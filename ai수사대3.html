<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>AI ìˆ˜ì‚¬ëŒ€ : ëª½íƒ€ì£¼ í”„ë¡œì íŠ¸</title>

<!-- PDF ì €ì¥ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ (ì¸í„°ë„· ì—°ê²° í•„ìš”) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Pretendard", sans-serif;
        background: radial-gradient(circle at top, #1f2a6b 0, #050824 55%, #020313 100%);
        color: #f9fafb;
        min-height: 100vh;
        padding: 32px 16px;
        display: flex;
        justify-content: center;
    }
    .wrapper { width: 100%; max-width: 900px; }

    h1 { font-size: 30px; margin-bottom: 10px; }
    h2 { font-size: 22px; margin-bottom: 14px; }
    p  { line-height: 1.6; font-size: 14px; }

    /* ê³µí†µ ì¹´ë“œ + ì •ì‚¬ê°í˜• ë ˆì´ì•„ì›ƒ */
    .card {
        background: rgba(15, 23, 42, 0.9);
        border-radius: 24px;
        padding: 24px 26px 26px;
        box-shadow: 0 18px 40px rgba(0,0,0,0.45);
        border: 1px solid rgba(148, 163, 184, 0.25);
        margin: 0 auto 22px;
    }
    .screen-card {
        max-width: 720px;
        aspect-ratio: 1 / 1;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow: visible;
    }

    /* ì²« í™”ë©´ ì¹´ë“œ */
    .card-hero {
        position: relative;
        padding: 32px 32px 30px;
    }
    .card-hero-bg {
        position:absolute;
        inset:0;
        opacity:0.22;
        pointer-events:none;
        background:
          radial-gradient(circle at 15% 10%, rgba(56,189,248,0.55), transparent 60%),
          radial-gradient(circle at 85% 85%, rgba(74,222,128,0.45), transparent 60%);
    }
    .card-hero-inner {
        position:relative;
        z-index:1;
        height:100%;
        display:flex;
        flex-direction:column;
        justify-content:space-between;
    }
    .hero-top {
        display:flex;
        flex-direction:column;
        align-items:center;
        text-align:center;
        gap:16px;
        margin-top:6px;
    }
    .hero-icon {
        width:110px;
        height:110px;
        border-radius:32px;
        background:
          radial-gradient(circle at 30% 20%, #facc15, #f97316);
        display:flex;
        align-items:center;
        justify-content:center;
        font-size:54px;
        box-shadow:0 16px 36px rgba(0,0,0,0.5);
        border: 3px solid rgba(15,23,42,0.9);
    }
    .hero-title-main {
        font-size:32px;
        font-weight:800;
        color:#4ade80;
    }
    .hero-subline {
        font-size:13px;
        color:#a5b4fc;
    }
    .hero-middle {
        margin-top:4px;
        text-align:center;
        font-size:14px;
    }
    .hero-bottom {
        margin-top:16px;
    }

    .badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        padding: 4px 10px;
        border-radius: 999px;
        background: rgba(56, 189, 248, 0.15);
        color: #e0f2fe;
        margin-bottom: 8px;
    }
    .label {
        font-size: 13px;
        margin-top: 14px;
        margin-bottom: 4px;
        color: #e5e7eb;
    }
    input, textarea {
        width: 100%;
        padding: 11px 12px;
        border-radius: 12px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        font-size: 14px;
        outline: none;
    }
    input::placeholder, textarea::placeholder {
        color: rgba(148, 163, 184, 0.8);
    }
    textarea {
        min-height: 90px;
        resize: vertical;
    }
    .btn {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        width: 100%;
        padding: 13px 16px;
        border-radius: 999px;
        border: none;
        cursor: pointer;
        margin-top: 18px;
        font-weight: 600;
        font-size: 15px;
        background-image: linear-gradient(90deg, #22d3ee, #4ade80);
        color: #022c22;
        box-shadow: 0 12px 25px rgba(16, 185, 129, 0.35);
    }
    .btn-outline {
        background: transparent;
        border: 1px solid rgba(148, 163, 184, 0.7);
        color: #e5e7eb;
        box-shadow: none;
        width: auto;
        padding-inline: 18px;
    }
    .btn-row {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 14px;
    }
    .step { display: none; }
    .step.active { display: block; }

    ul {
        margin-top: 10px;
        margin-left: 18px;
        font-size: 14px;
    }
    ul li { margin-bottom: 4px; }

    .prompt-template {
        border-radius: 16px;
        border: 1 dashed rgba(148, 163, 184, 0.7);
        border-style: dashed;
        padding: 14px 16px;
        background: rgba(15,23,42,0.8);
        font-size: 13px;
        margin-bottom: 14px;
        white-space: pre-line;
    }

    .prompt-box {
        margin-top: 10px;
        padding: 14px 16px;
        border-radius: 14px;
        background: rgba(15,23,42,0.92);
        border: 1px solid rgba(94, 234, 212, 0.55);
        font-size: 13px;
        white-space: pre-line;
        min-height: 80px;
    }

    .small {
        font-size: 12px;
        color: rgba(156, 163, 175, 0.95);
        margin-top: 6px;
    }

    .progress {
        width: 100%;
        height: 6px;
        border-radius: 999px;
        background: rgba(15,23,42,0.9);
        overflow: hidden;
        margin-bottom: 18px;
        border: 1px solid rgba(55,65,81,0.8);
    }
    .progress-bar {
        height: 100%;
        width: 0%;
        border-radius: 999px;
        background: linear-gradient(90deg,#22d3ee,#4ade80);
        transition: width 0.25s ease-out;
    }

    .center { text-align: center; }

    /* ===== ìˆ˜ë£Œì¦ ìŠ¤íƒ€ì¼ ===== */
    .certificate {
        height: 100%;
        padding: 18px;
        border-radius: 20px;
        background: #fefcf8;
        border: 14px solid #d2b68a;
        box-shadow: 0 18px 40px rgba(0,0,0,0.45);
        position: relative;
    }

    .cert-frame-inner {
        height: 100%;
        border-radius: 14px;
        padding: 32px 42px 30px;
        border: 2px solid #e6d6b7;
        background:
          linear-gradient(
              135deg,
              #fdf8f1 0%,
              #fffdf8 40%,
              #fdf8f1 100%
          );
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        position: relative;
        overflow: hidden;
    }

    .cert-frame-inner::before,
    .cert-frame-inner::after {
        content: "";
        position: absolute;
        width: 120px;
        height: 120px;
        border: 2px solid rgba(210, 180, 140, 0.5);
        border-radius: 16px;
        opacity: 0.4;
        pointer-events: none;
    }
    .cert-frame-inner::before {
        top: 10px;
        left: 10px;
        border-right: none;
        border-bottom: none;
    }
    .cert-frame-inner::after {
        bottom: 10px;
        right: 10px;
        border-left: none;
        border-top: none;
    }

    .cert-korean-title {
        font-family: "Georgia", "Times New Roman", serif;
        font-size: 22px;
        letter-spacing: 12px;
        text-align: center;
        color: #8b5a2b;
        margin-bottom: 6px;
    }

    .cert-title {
        font-family: "Georgia", "Times New Roman", serif;
        font-size: 30px;
        font-weight: 800;
        text-align: center;
        margin-bottom: 8px;
        color: #b45309;
        text-transform: uppercase;
        letter-spacing: 3px;
    }

    .cert-sub {
        text-align: center;
        font-size: 12px;
        color: #6b7280;
        margin-bottom: 22px;
        font-family: "Georgia", "Times New Roman", serif;
    }

    .cert-body {
        font-size: 14px;
        line-height: 1.8;
        color: #374151;
        font-family: "Georgia", "Times New Roman", serif;
    }

    .cert-pledge {
        margin-top: 18px;
        padding: 12px 14px;
        border-radius: 10px;
        border: 1px dashed #f59e0b;
        background: #fff9e6;
        min-height: 80px;
        white-space: pre-wrap;
        font-size: 13px;
    }

    .cert-footer {
        margin-top: 26px;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        font-size: 13px;
        color: #4b5563;
        font-family: "Georgia", "Times New Roman", serif;
    }

    .cert-mark {
        width: 95px;
        height: 95px;
        border-radius: 50%;
        border: 3px solid #b8860b;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 700;
        text-align: center;
        background:
          radial-gradient(circle at 30% 20%, #fff7c2, #f5c344, #d19b18);
        color: #7c2d12;
        box-shadow:
          0 8px 18px rgba(148, 114, 32, 0.45),
          inset 0 0 8px rgba(255,255,255,0.7);
        position: relative;
    }
    .cert-mark::after {
        content:"";
        position:absolute;
        bottom:-18px;
        width:32px;
        height:34px;
        background: linear-gradient(#d97706,#b45309);
        clip-path: polygon(50% 100%, 0 0, 100% 0);
    }
    .cert-mark span {
        display: block;
        line-height: 1.15;
        letter-spacing: 1px;
    }

    .no-print { }

    @media (max-width: 640px) {
        .screen-card { aspect-ratio: auto; }
    }

    @media print {
        body {
            background:#ffffff;
            padding:0;
        }
        .wrapper {
            max-width:100%;
            padding:0;
        }
        .progress,
        .no-print {
            display:none !important;
        }
        .card, .screen-card {
            margin:0;
            box-shadow:none;
            border:none;
            border-radius:0;
        }
        .certificate {
            border-radius:0;
            box-shadow:none;
        }
    }
</style>
</head>
<body>
<div class="wrapper">

    <div class="progress no-print">
        <div id="progressBar" class="progress-bar"></div>
    </div>

    <!-- STEP 1: ìˆ˜ì‚¬ ì‹œì‘í•˜ê¸° -->
    <div class="step active" id="step1">
        <div class="card card-hero screen-card">
            <div class="card-hero-bg"></div>
            <div class="card-hero-inner">
                <div>
                    <div class="badge">ğŸ•µï¸ LEVEL 1. ìˆ˜ì‚¬ ì˜ë¢° ì ‘ìˆ˜</div>
                    <div class="hero-top">
                        <div class="hero-icon">ğŸ•µï¸â€â™‚ï¸</div>
                        <div>
                            <div class="hero-title-main">AI ìˆ˜ì‚¬ëŒ€ : ëª½íƒ€ì£¼ í”„ë¡œì íŠ¸</div>
                            <div class="hero-subline">
                                K-MOON ë””ì§€í„¸ ìˆ˜ì‚¬êµ­ Â· í•™êµ íŠ¹ë³„ ìˆ˜ì‚¬íŒ€
                            </div>
                        </div>
                    </div>
                    <div class="hero-middle">
                        í•™êµì—ì„œ ë°œìƒí•œ ìŠ¤ë§ˆíŠ¸í° ì ˆë„ ì‚¬ê±´! ğŸ“±<br>
                        ìœ ì¼í•œ ë‹¨ì„œëŠ” íë¦¿í•œ CCTV ì† 1ì´ˆì˜ ì‹¤ë£¨ì—£ë¿ì…ë‹ˆë‹¤.<br>
                        ì˜¤ëŠ˜ ì—¬ëŸ¬ë¶„ì€ AI ìˆ˜ì‚¬ëŒ€ ìš”ì›ì´ ë˜ì–´ ëª½íƒ€ì£¼ë¥¼ ì™„ì„±í•˜ê³ ,<br>
                        ì¸ê°„ê³¼ AIì˜ í¸í–¥ê¹Œì§€ í•¨ê»˜ ì¶”ì í•˜ê²Œ ë©ë‹ˆë‹¤.
                    </div>
                </div>

                <div class="hero-bottom">
                    <div class="label">ìˆ˜ì‚¬ ìš”ì› ì´ë¦„ (ì†Œì† / ì´ë¦„)</div>
                    <input id="agentName" placeholder="ì˜ˆ: 3í•™ë…„ 1ë°˜ í™ê¸¸ë™">
                    <p class="small">
                        ì´ë¦„ì„ ì…ë ¥í•˜ë©´ ë§ˆì§€ë§‰ â€œAI ìˆ˜ì‚¬ëŒ€ ë¯¸ì…˜ ìˆ˜ë£Œì¦â€ì— ê·¸ëŒ€ë¡œ ì¸ì‡„ë©ë‹ˆë‹¤.
                    </p>

                    <button class="btn no-print" onclick="startInvestigation()">
                        ìˆ˜ì‚¬ ì‹œì‘í•˜ê¸° ğŸš€
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- STEP 2: ì‚¬ê±´ ì¹´ë“œ -->
    <div class="step" id="step2">
        <div class="card screen-card">
            <div>
                <div class="badge">ğŸ“ LEVEL 2. ì‚¬ê±´ íŒŒì¼ ì—´ëŒ</div>
                <h2>CASE FILE #001</h2>
                <p style="margin-top:10px;">
                    ğŸ”” ë°œìƒ ì‹œê° : ê¸ˆìš”ì¼ ë°¤ 10ì‹œ 15ë¶„<br>
                    ğŸ“ ì¥ì†Œ : ìš´ë™ì¥ ì˜† ë³´ê´€ì†Œ<br>
                    ğŸ§ íŠ¹ì§• : â€œì±™ê·¸ë‘â€ ê¸ˆì† ì†Œë¦¬ê°€ ë‚œ ì§í›„ ëˆ„êµ°ê°€ê°€ ì „ì†ë ¥ìœ¼ë¡œ ë‹¬ë ¤ ë‚˜ê°
                </p>
                <p style="margin-top:14px;">
                    ğŸ‘â€ğŸ—¨ ëª©ê²© ì •ë³´:
                </p>
                <ul>
                    <li>ëˆ„êµ°ê°€ ë§¤ìš° ë¹ ë¥´ê²Œ ë‹¬ë ¤ ë‚˜ê°€ëŠ” ëª¨ìŠµì´ 1ì´ˆ ë™ì•ˆ ë³´ì˜€ìŒ</li>
                    <li>ì–¼êµ´ Â· ë‚˜ì´ Â· ì„±ë³„ì€ ì•Œ ìˆ˜ ì—†ìŒ</li>
                    <li>íë¦¿í•œ CCTVì—ëŠ” ì‹¤ë£¨ì—£ë§Œ ì°í˜€ ìˆìŒ</li>
                </ul>

                <p class="small">
                    ìœ„ ë‹¨ì„œë§Œ ë³´ê³  ë¨¸ë¦¿ì†ì—ì„œ ë– ì˜¤ë¥´ëŠ” ìš©ì˜ì ëª¨ìŠµì„ ìƒìƒí•´ ë³´ì„¸ìš”.<br>
                    ì¤€ë¹„ê°€ ë˜ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì´ë™í•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="btn-row no-print">
                <button class="btn-outline" onclick="goStep(1)">â† ì´ì „ìœ¼ë¡œ</button>
                <button class="btn" onclick="goStep(3)">ë‹¨ì„œ ë¶„ì„ ì™„ë£Œ âœ…</button>
            </div>
        </div>
    </div>

    <!-- STEP 3: ìš©ì˜ì í”„ë¡œíŒŒì¼ë§ -->
    <div class="step" id="step3">
        <div class="card screen-card">
            <div>
                <div class="badge">ğŸ§  LEVEL 3. ìš©ì˜ì í”„ë¡œíŒŒì¼ë§</div>
                <h2>ê°€ëŠ¥í•œ ìš©ì˜ìì˜ ëª¨ìŠµì„ êµ¬ì²´ì ìœ¼ë¡œ ì ì–´ ë´…ì‹œë‹¤.</h2>

                <div class="label">1. ì²´ê²© (í¬ë‹¤ / ì‘ë‹¤ / ë³´í†µ ë“±)</div>
                <input id="body" placeholder="ì˜ˆ: ë©ì¹˜ê°€ í¬ê³  ì–´ê¹¨ê°€ ë„“ë‹¤">

                <div class="label">2. ë¶„ìœ„ê¸° (ê¸´ì¥ / ë‹¹í™© / ì¹¨ì°© ë“±)</div>
                <input id="mood" placeholder="ì˜ˆ: ì£¼ë³€ì„ ë‘ë¦¬ë²ˆê±°ë¦¬ë©° ë§¤ìš° ë‹¹í™©í•´ ë³´ì˜€ë‹¤">

                <div class="label">3. ë³µì¥ ìŠ¤íƒ€ì¼ (ìƒ‰ìƒ, í›„ë“œí‹°, íŒ¨ë”© ë“±)</div>
                <input id="clothing" placeholder="ì˜ˆ: ê²€ì •ìƒ‰ í›„ë“œí‹°ë¥¼ ë’¤ì§‘ì–´ì“°ê³  ìˆë‹¤">

                <div class="label">4. ê¸°íƒ€ íŠ¹ì§• (ìì—°ìŠ¤ëŸ½ê²Œ ë– ì˜¤ë¥´ëŠ” ê²ƒ)</div>
                <input id="etc" placeholder="ì˜ˆ: ìš´ë™í™”ë¥¼ ì‹ ê³  ìˆê³  ì‘ì€ ê°€ë°©ì„ ë“¤ê³  ìˆë‹¤">

                <p class="small">
                    ì´ ë‚´ìš©ì´ AIì—ê²Œ ì „ë‹¬ë  í•µì‹¬ ì •ë³´ê°€ ë©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="btn-row no-print">
                <button class="btn-outline" onclick="goStep(2)">â† ì´ì „ìœ¼ë¡œ</button>
                <button class="btn" onclick="saveProfileAndGoPrompt()">
                    í”„ë¡œíŒŒì¼ë§ ì €ì¥ í›„ ë‹¤ìŒ ë‹¨ê³„ â†’
                </button>
            </div>
        </div>
    </div>

    <!-- STEP 4: AI í”„ë¡¬í”„íŠ¸ ì‘ì„± -->
    <div class="step" id="step4">
        <div class="card screen-card">
            <div>
                <div class="badge">ğŸ’¬ LEVEL 4. AI ìš”ì²­ë¬¸ ì‘ì„±</div>
                <h2>AIì—ê²Œ ì–´ë–¤ ì‚¬ëŒì„ ê·¸ë ¤ ë‹¬ë¼ê³  ìš”ì²­í• ê¹Œìš”?</h2>

                <div class="label" style="margin-top:10px;">[í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ í‹€]</div>
                <div class="prompt-template">
1ì´ˆ ë™ì•ˆ ì‹¤ë£¨ì—£ìœ¼ë¡œë§Œ ë³´ì¸, ë°¤ì— ì•„ì£¼ ë¹ ë¥´ê²Œ ë„ë§ê°€ëŠ” ê°€ëŠ¥ì„± ë†’ì€ ìš©ì˜ìë¥¼ ê·¸ë ¤ì¤˜.
ì´ ì‚¬ëŒì€ [ì—¬ëŸ¬ë¶„ì´ ë– ì˜¬ë¦° ëª¨ìŠµ]ì²˜ëŸ¼ ìƒê²¼ë‹¤ê³  ìƒìƒí•´.
                </div>

                <div class="label">ë‚˜ì˜ í”„ë¡¬í”„íŠ¸ (í•œê¸€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì ê¸°)</div>
                <textarea id="myPrompt" placeholder="ì˜ˆ: ë©ì¹˜ê°€ í¬ê³  ì–´ë‘ìš´ ìƒ‰ í›„ë“œí‹°ë¥¼ ì…ì—ˆê³ , ë§¤ìš° ê¸´ì¥í•œ í‘œì •ìœ¼ë¡œ ì‘ì€ ê°€ë°©ì„ ë“¤ê³  ìˆë‹¤."></textarea>

                <p class="small">
                    3ë‹¨ê³„ì—ì„œ ì“´ í”„ë¡œíŒŒì¼ë§ ë‚´ìš©ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬í•´ë„ ì¢‹ìŠµë‹ˆë‹¤.<br>
                    í•œê¸€ë¡œ ì ì–´ë„ BingÂ·ChatGPTì—ì„œ ì˜ ì¸ì‹í•©ë‹ˆë‹¤.
                </p>
            </div>

            <div class="btn-row no-print">
                <button class="btn-outline" onclick="goStep(3)">â† ì´ì „ìœ¼ë¡œ</button>
                <button class="btn" onclick="confirmPromptAndGoResult()">
                    ì´ë¯¸ì§€ ìƒì„± ë‹¨ê³„ë¡œ ì´ë™ ğŸ¨
                </button>
            </div>
        </div>
    </div>

 <!-- STEP 5: ëª½íƒ€ì£¼ ìƒì„± + íŒ¨ë“¤ë › ê³µìœ  -->
<div class="step" id="step5">
  <div class="card card-steps">
    
    <div class="badge">ğŸ“¸ LEVEL 5. ëª½íƒ€ì£¼ ìƒì„± ë° ê³µìœ </div>
    <h2>ìƒì„±í˜• AIë¡œ ëª½íƒ€ì£¼ ë§Œë“¤ê¸°</h2>

    <p>
      1. ì•„ë˜ ì™„ì„± í”„ë¡¬í”„íŠ¸ë¥¼ ë³µì‚¬í•©ë‹ˆë‹¤.<br>
      2. ë¤¼íŠ¼Â·ChatGPT ì´ë¯¸ì§€ ìƒì„± ë˜ëŠ” ë¬´ë£Œ ì´ë¯¸ì§€ ì‚¬ì´íŠ¸ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë§Œë“­ë‹ˆë‹¤.<br>
      3. ì™„ì„±ëœ ì´ë¯¸ì§€ë¥¼ ê° í•™êµ íŒ¨ë“¤ë › ë³´ë“œì— ì—…ë¡œë“œí•©ë‹ˆë‹¤.
    </p>

    <!-- ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸ -->
    <div class="label" style="margin-top:14px;">âœ” ì™„ì„±ëœ í”„ë¡¬í”„íŠ¸ (í•œê¸€)</div>
    <div id="finalPrompt" class="prompt-box">ì•„ì§ í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</div>

    <!-- ë²„íŠ¼: ë³µì‚¬í•˜ê¸° / ì´ì „ìœ¼ë¡œ -->
    <div class="btn-row no-print" style="margin-top:20px;">
      <button class="btn-back" onclick="goStep(4)">â¬… ì´ì „ìœ¼ë¡œ</button>
      <button class="btn-copy" onclick="copyFinalPrompt()">ğŸ“‹ í”„ë¡¬í”„íŠ¸ ë³µì‚¬í•˜ê¸°</button>
    </div>

    <!-- ì´ë¯¸ì§€ ìƒì„± ë„êµ¬ -->
    <div class="btn-row no-print" style="margin-top:25px;">
      <button class="btn-blue" onclick="openWrtn()">ë¤¼íŠ¼ ì´ë¯¸ì§€ ìƒì„± ì—´ê¸°</button>
      <button class="btn-purple" onclick="openChatGPT()">ChatGPT ì´ë¯¸ì§€ ìƒì„± ì—´ê¸°</button>
      <button class="btn-dark" onclick="openPixabay()">Pixabay ë¬´ë£Œ ì´ë¯¸ì§€ ì°¾ê¸°</button>
    </div>

    <!-- íŒ¨ë“¤ë › ì…ë ¥ -->
    <div class="label" style="margin-top:24px;">ğŸ“Œ í•™êµ íŒ¨ë“¤ë › ì½”ë“œ</div>
    <input id="padletCode" class="input-code" placeholder="ì˜ˆ: ss (ë³´ë“œ ì£¼ì†Œ ë’¤ì— ì˜¤ëŠ” ì½”ë“œ)">
    
    <button class="btn-padlet" onclick="openPadletBoard()">íŒ¨ë“¤ë › ë³´ë“œ ì—´ê¸° (ìƒˆì°½)</button>

    <p class="small">
      ì´ ì¹¸ì— ì½”ë“œë¥¼ ì…ë ¥í•˜ë©´<br>
      https://padlet.com/edusy/<b>ì½”ë“œ</b> ì£¼ì†Œë¡œ ëª½íƒ€ì£¼ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” ë³´ë“œë¥¼ ì—½ë‹ˆë‹¤.<br>
      (ì˜ˆ: ì½”ë“œê°€ ssì´ë©´ https://padlet.com/edusy/ss )
    </p>

    <!-- ê²°ê³¼ ë¶„ì„ ë‹¨ê³„ ì´ë™ -->
    <button class="btn-next" onclick="goStep(6)">ğŸ” ê²°ê³¼ ë¶„ì„ ë‹¨ê³„ë¡œ ì´ë™í•˜ê¸°</button>

  </div>
</div>

<!-- â˜… ë²„íŠ¼ ìŠ¤íƒ€ì¼ CSS ì¶”ê°€ â˜… -->
<style>
  .btn-row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }
  .btn-blue {
    flex: 1;
    background: #2979ff;
    color: white;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
  }
  .btn-purple {
    flex: 1;
    background: #7e57c2;
    color: white;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
  }
  .btn-dark {
    flex: 1;
    background: #455a64;
    color: white;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
  }
  .btn-copy {
    flex: 1;
    background: #4caf50;
    color: white;
    padding: 12px;
    border-radius: 8px;
    border: none;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
  }
  .btn-back {
    flex: 0.5;
    background: white;
    color: #333;
    border: 2px solid #333;
    padding: 12px;
    border-radius: 8px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
  }
  .btn-padlet {
    margin-top: 10px;
    width: 100%;
    background: #009688;
    color: white;
    padding: 14px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
  }
  .btn-next {
    margin-top: 25px;
    width: 100%;
    background: #26a69a;
    color: white;
    padding: 16px;
    border-radius: 10px;
    border: none;
    font-size: 17px;
    font-weight: 700;
    cursor: pointer;
  }
  .input-code {
    margin-top: 6px;
    width: 100%;
    padding: 12px;
    border: 2px solid #ccc;
    border-radius: 6px;
    font-size: 15px;
  }
  .small {
    font-size: 13px;
    color: #777;
    margin-top: 8px;
  }
</style>

<!-- JavaScript ë§í¬ ì—´ê¸° í•¨ìˆ˜ -->
<script>
  function openWrtn() { window.open("https://wrtn.ai/", "_blank"); }
  function openChatGPT() { window.open("https://chat.openai.com/?model=gpt-image-1", "_blank"); }
  function openPixabay() { window.open("https://pixabay.com/ko/", "_blank"); }
</script>


    <!-- STEP 6: ìµœì¢… ì„±ì°° Q1, Q2 -->
    <div class="step" id="step6">
        <div class="card screen-card">
            <div>
                <div class="badge">âš–ï¸ LEVEL 6. í¸í–¥ ì„±ì°°</div>
                <h2>AI ìˆ˜ì‚¬ëŒ€ ìµœì¢… ì„±ì°° (1)</h2>
                <p class="small" style="margin-top:6px;">
                    ë‚´ê°€ ë§Œë“  ëª½íƒ€ì£¼ì™€ AIê°€ ë§Œë“  ëª½íƒ€ì£¼ë¥¼ ë– ì˜¬ë¦¬ë©´ì„œ,<br>
                    ì‚¬ëŒì˜ íŒë‹¨ ê¸°ì¤€ê³¼ AIì˜ ë°°ì›€ ë°©ì‹ì„ í•¨ê»˜ ìƒê°í•´ ë´…ì‹œë‹¤.
                </p>

                <div class="label" style="margin-top:14px;">
                    Q1. ë‚´ê°€ ëª½íƒ€ì£¼ë¥¼ ë§Œë“¤ ë•Œ ë– ì˜¬ë¦° ê¸°ì¤€Â·ì¥ë©´ì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?
                </div>
                <textarea id="reflect1"
                  placeholder="ì˜ˆ: ë‰´ìŠ¤ì—ì„œ ë³¸ ë²”ì£„ì ëª¨ìŠµ, ì˜í™” ì† ì¥ë©´, ì£¼ë³€ì—ì„œ ë“¤ì€ ì´ì•¼ê¸° ë“±"></textarea>

                <div class="label">
                    Q2. ì´ëŸ° ê¸°ì¤€ì´ ê·¸ëŒ€ë¡œ AIì— í•™ìŠµëœë‹¤ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸¸ê¹Œìš”?
                </div>
                <textarea id="reflect2"
                  placeholder="ì˜ˆ: íŠ¹ì • ì˜·ì°¨ë¦¼ì´ë‚˜ ëª¨ìŠµì˜ ì‚¬ëŒì„ ìë™ìœ¼ë¡œ ì˜ì‹¬í•  ìˆ˜ë„ ìˆìŒ, ì£„ ì—†ëŠ” ì‚¬ëŒì„ ë²”ì¸ì²˜ëŸ¼ ë³¼ ìˆ˜ ìˆìŒ ë“±"></textarea>
            </div>

            <div class="btn-row no-print">
                <button class="btn-outline" onclick="goStep(5)">â† ì´ì „ìœ¼ë¡œ</button>
                <button class="btn" onclick="goStep(7)">
                    ë‹¤ìŒ ë‹¨ê³„ (ë‚˜ì˜ ë‹¤ì§ ì‘ì„±) â†’
                </button>
            </div>
        </div>
    </div>

    <!-- STEP 7: ë‚˜ì˜ ë‹¤ì§ + Canva/ë¯¸ë¦¬ìº”ë²„ìŠ¤ -->
    <div class="step" id="step7">
        <div class="card screen-card">
            <div>
                <div class="badge">ğŸ“ LEVEL 7. ë‚˜ì˜ ë‹¤ì§ & í¬ìŠ¤í„°</div>
                <h2>AI ìˆ˜ì‚¬ëŒ€ ìµœì¢… ì„±ì°° (2)</h2>

                <div class="label" style="margin-top:14px;">
                    Q3. ì•ìœ¼ë¡œ AIë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ê² ë‹¤ê³  ë‹¤ì§í•˜ë‚˜ìš”?
                </div>
                <textarea id="pledge"
                  placeholder="ì˜ˆ: ì‚¬ëŒì„ í•¨ë¶€ë¡œ íŒë‹¨í•˜ì§€ ì•ŠëŠ” ë°©í–¥ìœ¼ë¡œ AIë¥¼ ì‚¬ìš©í•˜ê³ , ìˆ™ì œ ëŒ€ì‹ ì´ ì•„ë‹ˆë¼ í•¨ê»˜ ìƒê°ì„ ì •ë¦¬í•˜ëŠ” ë„êµ¬ë¡œ ì‚¬ìš©í•˜ê² ë‹¤."></textarea>

                <p class="small">
                    ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì§€ê¸ˆ ì“´ ë‹¤ì§ ë¬¸ì¥ì„ ë³µì‚¬í•´ Canvaë‚˜ ë¯¸ë¦¬ìº”ë²„ìŠ¤ì—ì„œ<br>
                    â€œAI í™œìš© ë‹¤ì§ í¬ìŠ¤í„°â€ë¥¼ ë§Œë“¤ì–´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
                    (ìë™ìœ¼ë¡œ ê¸€ì´ ë„˜ì–´ê°€ì§€ëŠ” ì•Šìœ¼ë‹ˆ, ë‹¤ì§ì„ ì§ì ‘ ë¶™ì—¬ë„£ìœ¼ë©´ ë©ë‹ˆë‹¤.)
                </p>

                <div class="btn-row no-print">
                    <button class="btn-outline" style="flex:1;" onclick="openCanva()">
                        Canvaë¡œ í¬ìŠ¤í„° ë§Œë“¤ê¸° ğŸ¨
                    </button>
                    <button class="btn-outline" style="flex:1;" onclick="openMiriCanvas()">
                        ë¯¸ë¦¬ìº”ë²„ìŠ¤ì—ì„œ ë§Œë“¤ê¸° ğŸ–Œ
                    </button>
                </div>
            </div>

            <div class="btn-row no-print">
                <button class="btn-outline" onclick="goStep(6)">â† ì´ì „ìœ¼ë¡œ</button>
                <button class="btn" onclick="finishMission()">
                    ìˆ˜ì‚¬ ì¢…ê²° ë° ìˆ˜ë£Œì¦ ë³´ê¸° ğŸ…
                </button>
            </div>
        </div>
    </div>

    <!-- STEP 8: Mission Complete + ìˆ˜ë£Œì¦ -->
    <div class="step" id="step8">
        <div class="card screen-card">
            <div class="certificate" id="certificate">
                <div class="cert-frame-inner">
                    <div>
                        <div class="cert-korean-title">ìƒ   ì¥</div>
                        <div class="cert-title">AI ìˆ˜ì‚¬ëŒ€ ë¯¸ì…˜ ìˆ˜ë£Œì¦</div>
                        <div class="cert-sub">
                            AI ëª½íƒ€ì£¼ í”„ë¡œì íŠ¸ Â· ë””ì§€í„¸ ìœ¤ë¦¬ Â· í¸í–¥ ì„±ì°°
                        </div>

                        <div class="cert-body">
                            <p>
                                ìœ„ í•™ìƒì€ AI ìˆ˜ì‚¬ëŒ€ ìš”ì›ìœ¼ë¡œì„œ<br>
                                ì‚¬ê±´ ëª½íƒ€ì£¼ ì œì‘, í¸í–¥ ë¶„ì„, ë””ì§€í„¸ ìœ¤ë¦¬ ì„±ì°°í™œë™ì„ ëª¨ë‘ ë§ˆì³¤ìŒì„ ì¸ì¦í•©ë‹ˆë‹¤.
                            </p>

                            <p style="margin-top:10px;">
                                â— ìˆ˜ì‚¬ ìš”ì› : <strong id="certName">ìˆ˜ì‚¬ ìš”ì›</strong><br>
                                â— ë°œê¸‰ ì¼ì : <span id="certDate"></span>
                            </p>

                            <p style="margin-top:14px;">
                                [AI í™œìš© ë‹¤ì§]
                            </p>
                            <div class="cert-pledge" id="pledgeDisplay">
                                ì•„ì§ ë‹¤ì§ì´ ì‘ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
                            </div>
                        </div>
                    </div>

                    <div class="cert-footer">
                        <div>
                            í”„ë¡œê·¸ë¨ëª… : AI ìˆ˜ì‚¬ëŒ€ Â· ëª½íƒ€ì£¼ í”„ë¡œì íŠ¸<br>
                            ë°œê¸‰ ê¸°ê´€ : ë””ì§€í„¸ ë¦¬í„°ëŸ¬ì‹œ ì—°êµ¬ì‹¤
                        </div>
                        <div class="cert-mark">
                            <span>AI</span>
                            <span>ìˆ˜ì‚¬ëŒ€</span>
                            <span>ê³µì‹ì¸ì¦</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="no-print" style="margin-top:18px;">
                <p class="center" style="margin-bottom:10px;">
                    ğŸ“ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ ìˆ˜ë£Œì¦ì„ ì¸ì‡„í•˜ê±°ë‚˜ PDF íŒŒì¼ë¡œ ì €ì¥í•´ ë‘˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>

                <div class="btn-row">
                    <button class="btn" style="flex:1" onclick="window.print()">
                        ìˆ˜ë£Œì¦ ì¸ì‡„í•˜ê¸° ğŸ–¨
                    </button>
                    <button class="btn" style="flex:1" onclick="downloadPDF()">
                        ìˆ˜ë£Œì¦ PDF ë‹¤ìš´ë¡œë“œ ğŸ“„
                    </button>
                </div>

                <div class="btn-row" style="margin-top:12px;">
                    <button class="btn-outline" style="flex:1" onclick="editPledge()">
                        ë‹¤ì§ ë‹¤ì‹œ ì“°ê¸° âœï¸
                    </button>
                    <button class="btn-outline" style="flex:1" onclick="resetAll()">
                        ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸° ğŸ”
                    </button>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
let currentStep = 1;
let finalPromptText = "";
let agentNameText = "";

/* íŒ¨ë“¤ë › ê¸°ë³¸ ì£¼ì†Œ */
const PADLET_BASE = "https://padlet.com/edusy/";

/* ì§„í–‰ë„: ì´ 8ë‹¨ê³„ */
function updateProgress(step) {
    const totalSteps = 8;
    const percent = (step - 1) / (totalSteps - 1) * 100;
    const bar = document.getElementById("progressBar");
    if (bar) bar.style.width = percent + "%";
}

function showStep(step) {
    currentStep = step;
    for (let i = 1; i <= 8; i++) {
        const el = document.getElementById("step" + i);
        if (el) el.classList.toggle("active", i === step);
    }
    updateProgress(step);
}
function goStep(step) { showStep(step); }

function startInvestigation() {
    const input = document.getElementById("agentName");
    const name = input ? input.value.trim() : "";

    if (!name) {
        alert("ìˆ˜ì‚¬ ìš”ì› ì´ë¦„(ì†Œì† / ì´ë¦„)ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
        return;
    }
    agentNameText = name;
    showStep(2);
}

function saveProfileAndGoPrompt() {
    const body = document.getElementById("body").value.trim();
    const mood = document.getElementById("mood").value.trim();
    const clothing = document.getElementById("clothing").value.trim();
    const etc = document.getElementById("etc").value.trim();

    const parts = [];
    if (body) parts.push(body);
    if (mood) parts.push(mood);
    if (clothing) parts.push(clothing);
    if (etc) parts.push(etc);

    const suggestion = parts.length
        ? parts.join(", ")
        : "ì–´ë‘ìš´ ìƒ‰ ì˜·ì„ ì…ê³  ë§¤ìš° ë¹ ë¥´ê²Œ ë„ë§ê°€ëŠ” ì‚¬ëŒ";

    document.getElementById("myPrompt").value = suggestion;
    showStep(4);
}

function confirmPromptAndGoResult() {
    const myPrompt = document.getElementById("myPrompt").value.trim();
    if (!myPrompt) {
        alert("ë‚˜ì˜ í”„ë¡¬í”„íŠ¸ë¥¼ í•œ ì¤„ ì´ìƒ ì ì–´ ì£¼ì„¸ìš”.");
        return;
    }

    finalPromptText =
`1ì´ˆ ë™ì•ˆ ì‹¤ë£¨ì—£ìœ¼ë¡œë§Œ ë³´ì¸, ë°¤ì— ì•„ì£¼ ë¹ ë¥´ê²Œ ë„ë§ê°€ëŠ” ê°€ëŠ¥ì„± ë†’ì€ ìš©ì˜ìë¥¼ ê·¸ë ¤ì¤˜.
ì´ ì‚¬ëŒì€ ${myPrompt}ì²˜ëŸ¼ ë³´ì¸ë‹¤.`;

    document.getElementById("finalPrompt").textContent = finalPromptText;
    showStep(5);
}

function copyFinalPrompt() {
    if (!finalPromptText.trim()) {
        alert("ë¨¼ì € 4ë‹¨ê³„ì—ì„œ í”„ë¡¬í”„íŠ¸ë¥¼ ì™„ì„±í•´ ì£¼ì„¸ìš”.");
        return;
    }
    navigator.clipboard.writeText(finalPromptText)
        .then(() => {
            alert("í”„ë¡¬í”„íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.\nBing ë˜ëŠ” ChatGPTì—ì„œ ë¶™ì—¬ë„£ê¸° í•´ ë³´ì„¸ìš”.");
        })
        .catch(() => {
            alert("í´ë¦½ë³´ë“œ ë³µì‚¬ê°€ ì•ˆ ë˜ë©´, í”„ë¡¬í”„íŠ¸ ë°•ìŠ¤ë¥¼ ë“œë˜ê·¸í•´ì„œ ì§ì ‘ ë³µì‚¬í•´ë„ ë©ë‹ˆë‹¤.");
        });
}

function openBing() {
    window.open("https://www.bing.com/images/create", "_blank");
}
function openChatGPT() {
    window.open("https://chat.openai.com", "_blank");
}

/* íŒ¨ë“¤ë › ë³´ë“œ ì—´ê¸° */
function openPadletBoard() {
    const input = document.getElementById("padletCode");
    const code = (input?.value || "").trim();
    if (!code) {
        alert("íŒ¨ë“¤ë › ì½”ë“œ(ë³´ë“œ ì£¼ì†Œ ë’¤ì— ì˜¤ëŠ” ë¶€ë¶„)ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.\nì˜ˆ: ss");
        return;
    }
    const url = PADLET_BASE + encodeURIComponent(code);
    window.open(url, "_blank");
}

/* ê²°ê³¼ ë¶„ì„ ë‹¨ê³„ë¡œ ì´ë™ â€“ ì´ì œ ì—…ë¡œë“œ ê²€ì‚¬ ì—†ì´ ë°”ë¡œ ì´ë™ */
function analyzeResult() {
    alert("ì´ì œ íŒ¨ë“¤ë ›ì— ì˜¬ë¦° ëª½íƒ€ì£¼ë¥¼ ë³´ë©´ì„œ\n1) ë‚´ê°€ ì“´ í”„ë¡¬í”„íŠ¸ì™€ ì–¼ë§ˆë‚˜ ë¹„ìŠ·í•œì§€\n2) ì–´ë–¤ í¸ê²¬ì´ ë“¤ì–´ ìˆëŠ”ì§€ í•¨ê»˜ ì´ì•¼ê¸°í•´ ë´…ì‹œë‹¤.");
    showStep(6);
}

/* ìˆ˜ë£Œì¦ í™”ë©´ìœ¼ë¡œ ì´ë™ */
function finishMission() {
    const span = document.getElementById("certName");
    const dateSpan = document.getElementById("certDate");
    const pledgeBox = document.getElementById("pledgeDisplay");

    const pledgeText = (document.getElementById("pledge").value || "").trim();

    span.textContent = agentNameText || "ìˆ˜ì‚¬ ìš”ì›";

    const today = new Date();
    const y = today.getFullYear();
    const m = today.getMonth() + 1;
    const d = today.getDate();
    dateSpan.textContent = `${y}ë…„ ${m}ì›” ${d}ì¼`;

    pledgeBox.textContent = pledgeText || "AIë¥¼ ì‚¬ëŒì„ ë•ëŠ” ë°©í–¥ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , í¸ê²¬ì„ ê·¸ëŒ€ë¡œ ë”°ë¼ í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ê² ë‹¤.";

    showStep(8);
}

/* Canva, ë¯¸ë¦¬ìº”ë²„ìŠ¤ ì´ë™ */
function openCanva() {
    const pledge = (document.getElementById("pledge").value || "").trim();
    if (pledge) {
        navigator.clipboard.writeText(pledge).catch(() => {});
        alert("ì§€ê¸ˆ ì“´ ë‹¤ì§ì„ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\nCanvaì—ì„œ í…ìŠ¤íŠ¸ ìƒìì— ë¶™ì—¬ë„£ì–´ í¬ìŠ¤í„°ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.");
    }
    window.open("https://www.canva.com/ko_kr/", "_blank");
}
function openMiriCanvas() {
    const pledge = (document.getElementById("pledge").value || "").trim();
    if (pledge) {
        navigator.clipboard.writeText(pledge).catch(() => {});
        alert("ì§€ê¸ˆ ì“´ ë‹¤ì§ì„ í´ë¦½ë³´ë“œì— ë³µì‚¬í–ˆìŠµë‹ˆë‹¤.\në¯¸ë¦¬ìº”ë²„ìŠ¤ì—ì„œ í…ìŠ¤íŠ¸ ìƒìì— ë¶™ì—¬ë„£ì–´ í¬ìŠ¤í„°ë¥¼ ë§Œë“¤ì–´ ë³´ì„¸ìš”.");
    }
    window.open("https://www.miricanvas.com/", "_blank");
}

/* ìˆ˜ë£Œì¦ PDF */
function downloadPDF() {
    const certificate = document.getElementById("certificate");
    if (!certificate) return;

    const { jsPDF } = window.jspdf;

    html2canvas(certificate, { scale: 2 }).then((canvas) => {
        const imgData = canvas.toDataURL("image/png");

        const pdf = new jsPDF("p", "mm", "a4");
        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = pdf.internal.pageSize.getHeight();

        const margin = 10;
        const imgWidth = pdfWidth - margin * 2;
        const imgHeight = canvas.height * imgWidth / canvas.width;

        const finalHeight = imgHeight > (pdfHeight - margin * 2)
            ? pdfHeight - margin * 2
            : imgHeight;

        pdf.addImage(imgData, "PNG", margin, margin, imgWidth, finalHeight);
        pdf.save("AI_susadae_certificate.pdf");
    });
}

/* ë‹¤ì§ ë‹¤ì‹œ ì“°ê¸° */
function editPledge() {
    showStep(7);
}

/* ì „ì²´ ë¦¬ì…‹ */
function resetAll() {
    [
        "agentName","body","mood","clothing","etc",
        "myPrompt","reflect1","reflect2","pledge","padletCode"
    ].forEach(id => {
        const el = document.getElementById(id);
        if (el) el.value = "";
    });
    finalPromptText = "";
    const fp = document.getElementById("finalPrompt");
    if (fp) fp.textContent = "ì•„ì§ í”„ë¡¬í”„íŠ¸ê°€ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
    showStep(1);
}

/* ì´ˆê¸° ì§„í–‰ë°” ì„¤ì • */
window.addEventListener("load", () => {
    updateProgress(1);
});
</script>
</body>
</html>
